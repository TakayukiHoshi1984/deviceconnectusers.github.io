# バッテリー API

## バッテリー情報の取得

バッテリーの残量や充電中か否かといったステータスを取得します。

### 基本情報

APIパス
: /gotapi/battery

HTTPメソッド
: GET

### リクエスト

#### HTTPヘッダー

|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

#### パラメータ

|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|以前の処理で取得したサービスIDを指定します|
|accessToken|✓|文字列|クエリー|以前の処理で取得したアクセストークン|

### レスポンス

#### HTTPレスポンス

|HTTPステータスコード|内容|
|-----|-----|
|200|取得成功|

エラーについては [エラーについて](./error.md) を参照してください。

#### レスポンス内容

|キー|型|
|----|----|
|result|数値|
|product|文字列|
|version|文字列|
|charging|真偽値|
|level|数値|

## 充電中かどうかの判断

デバイスが充電中かどうかを取得します。実行する度に判定されます。

### 基本情報

APIパス
: /gotapi/battery/charging

HTTPメソッド
: GET

### リクエスト

#### HTTPヘッダー

|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

#### パラメータ

|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|

### レスポンス

#### HTTPレスポンス

|HTTPステータスコード|内容|
|-----|-----|
|200|取得成功時のデータ形式。|

エラーについては [エラーについて](./error.md) を参照してください。

#### レスポンス内容

|キー|型|
|----|----|
|result|数値|
|product|文字列|
|version|文字列|
|charging|真偽値|

## バッテリーの状態が変わったらイベント通知を受け取る設定をする

バッテリーの充電状態が変わったらイベントを受け取るための設定を行います。実際のイベントはWebSocket経由で届きます。

### 基本情報

APIパス
: /gotapi/battery/onchargingchange

HTTPメソッド
: PUT

### リクエスト

#### HTTPヘッダー

|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

#### パラメータ

|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|以前の処理で取得したサービスIDを指定します|
|accessToken|✓|文字列|クエリー|以前の処理で取得したアクセストークン|
|sessionKey|✓|文字列|クエリー|WebSocket側と共通の通知を受け取るためのセッションキー|

### レスポンス

#### HTTPレスポンス

|HTTPステータスコード|内容|
|-----|-----|
|200|設定完了|

エラーについては [エラーについて](./error.md) を参照してください。

#### レスポンス内容

|キー|型|
|----|----|
|result|数値|
|product|文字列|
|version|文字列|
|errorCode|数値|
|errorMessage|文字列|

## バッテリーの状態が変わったらイベント通知を受け取る設定を削除する。

バッテリーの充電状態が変わったらイベントを受け取るための設定を削除します。

### 基本情報

APIパス
: /gotapi/battery/onchargingchange

HTTPメソッド
: DELETE

### リクエスト

#### HTTPヘッダー

|ヘッダーの種類|内容|
|----------------|----------------|
|Content-Type|application/json|

#### パラメータ

|キー|必須|型|場所|説明|
|-----|-----|-----|-----|-----|
|serviceId|✓|文字列|クエリー|サービスIDを指定します|
|accessToken|✓|文字列|クエリー|取得したアクセストークン|
|sessionKey|✓|文字列|クエリー|WebSocketで受け取るための一意のキー|

### レスポンス

#### HTTPレスポンス

|HTTPステータスコード|内容|
|-----|-----|
|200|HTTP経由でアクセスするファイル情報|

エラーについては [エラーについて](./error.md) を参照してください。

#### レスポンス内容

|キー|型|
|----|----|
|result|数値|
|product|文字列|
|version|文字列|
